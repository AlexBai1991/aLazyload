!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e){var i=function(t,e,i){var n=[].slice,o=200,r=function(t,e,i){i="undefined"==typeof i?!1:Boolean(i);for(var n in e)!i&&n in t||(t[n]=e[n]);return t},l=function(){return+new Date},s=function(t,e,i,o){var r,s,a,c=null,u=l(),d=function(){c=null,i||(a=t.apply(r,s),u=null,r=s=null)};return function(m){r=m||this,s=n.call(arguments,1),!u&&(u=l()),c&&clearTimeout(c);var h=l()-u;if(h>=o)a=t.apply(r,s),u=null,r=s=null;else{var f=i&&!c;f&&(a=t.apply(r,s),u=null),c=setTimeout(d,e)}return a}},a=function(t,i){var o=n.call(arguments,1),l={item:".lazy-img",dataSrc:"data-img",offset:0};if(!o){if("object"!=typeof t||null===t)throw new Error("need opts arguments here.");i=t,t=null}this.opts=r(i,l),this.element="string"==typeof(t=t||i.element)?e.querySelector(t):t,this.items=this.element.querySelectorAll(this.opts.itemClass),this.init()};return a.prototype={constructor:a,init:function(){var t=this;this._loadImgsWithinView();var e=s(this._loadImgsWithinView,o,!1,2e3);this._optimizedLoadImgsWithinView=function(i){e.call(this,t)},this._addScrollHandler()},_loadImgsWithinView:function(){var t="number"!=typeof(t=this.opts.offset)?parseInt(t,10):t,i=window.innerWidth||e.documentElement.clientWidth,o=window.innerHeight||e.documentElement.clientHeight,r={top:-t,left:-t,bottom:o+t,right:i+t};this.items=n.call(this.items);for(var l,s,a,c=0,u=this.items.length;u>c;c++)s=this.items[c],l=s.getBoundingClientRect(),a=l.top<=r.bottom&&l.bottom>=r.top&&l.left<=r.right&&l.right>=r.left,console.log("isInViewport: ",a),a&&(console.log("load img: ",s),this._loadImgItem(s),this.items.splice(c,1),c--,u--);0===u&&this._removeScrollHandler()},_loadImgItem:function(t){var e=this.opts.dataSrc,i=t.getAttribute(e);t.removeAttribute(e),i&&t.setAttribute("src",i)},_removeScrollHandler:function(){e.removeEventListener("scroll",this._optimizedLoadImgsWithinView)},_addScrollHandler:function(){e.addEventListener("scroll",this._optimizedLoadImgsWithinView)}},a}(window,window.document,void 0);"object"==typeof t&&t.exports?t.exports=i:window.ALazyload=i}]);